<div class="d-flex flex-column gap-2">

	<div class="">
		<app-pelicula-listado (peliculaSeleccionada)="this.onPeliculaSeleccionada($event)"></app-pelicula-listado>
	</div>

	<div class="d-flex flex-row gap-3 justify-content-around">
		
		<app-pelicula-detalle [pelicula]="this.pelicula"></app-pelicula-detalle>
		
		<div class="d-flex">
			<div class="card">
				<div class="card-body d-flex flex-column">
					<h5 class="card-title">Modificar</h5>
					<p class="card-text">
						Realice las modificaciones que desee. Al finalizar, podrá guardar los cambios realizados
					</p>

					<div>
						<form [formGroup]="form" class="d-inline-flex flex-column gap-3 m-1 mb-3 flex-wrap flex-grow-1">
								<div *ngIf="this.form.status == 'INVALID' && !this.form.pristine" class="alert alert-warning"> 
									Una película debe estar seleccionada y todos los campos deben estar completos 
								</div>

								<div *ngIf="this.errorTipoInvalido" class="alert alert-danger"> 
									El tipo solo puede ser 'terror', 'comedia', 'amor' u 'otros'
								</div>
					
							<div class="d-flex flex-row flex-wrap  gap-4 ">
								<div class="d-flex flex-column flex-grow-1">
									<label> Nombre </label>
									<input formControlName="nombre" type="text" placeholder="Nombre" class="form-control">
								</div>
								<div class="d-flex flex-column flex-wrap flex-grow-1">
									<label> Tipo </label>
									<input formControlName="tipo" type="text" placeholder="Tipo" class="form-control">
								</div>
							</div>
					
							<div class="d-flex flex-row flex-wrap gap-4">
								<div class="d-flex flex-column flex-grow-1">
									<label> Fecha de estreno </label>
									<input formControlName="fechaEstreno" type="date" class="form-control" value="20/02/2002">
								</div>
								<div class="d-flex flex-column flex-grow-1">
									<label> Visualizaciones </label>
									<input formControlName="cantidadPublico" type="text" placeholder="0" class="form-control">
								</div>
							</div>
						</form>
					</div>

					<button class="btn btn-outline-primary mt-auto" (click)="this.modificarPelicula()">Modificar</button>
				</div>
			</div>
		</div>

		<div class="d-flex align-items-stretch">
			<div class="card">
				<div class="card-body d-flex flex-column">
					<h5 class="card-title">Eliminar</h5>

					<div *ngIf="this.errorEliminacion" class="alert alert-danger"> 
						Debe seleccionar una película.
					</div>

					<p class="card-text">
						Se eliminará la película seleccionada
					</p>
					<button  class="btn btn-outline-primary mt-auto" (click)="this.eliminarPelicula()">Eliminar</button>
				</div>
			</div>
		</div>
	</div>


</div>